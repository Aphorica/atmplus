<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: fsm Pages: 1 -->
<svg width="716pt" height="560pt"
 viewBox="0.00 0.00 715.93 560.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 556)">
<title>fsm</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-556 711.9321,-556 711.9321,4 -4,4"/>
<!-- ready -->
<g id="node1" class="node">
<title>ready</title>
<ellipse fill="none" stroke="#000000" cx="29.7455" cy="-534" rx="29.9931" ry="18"/>
<text text-anchor="middle" x="29.7455" y="-529.8" font-family="Times,serif" font-size="14.00" fill="#000000">ready</text>
</g>
<!-- pin -->
<g id="node2" class="node">
<title>pin</title>
<ellipse fill="none" stroke="#000000" cx="126.7455" cy="-448" rx="27" ry="18"/>
<text text-anchor="middle" x="126.7455" y="-443.8" font-family="Times,serif" font-size="14.00" fill="#000000">pin</text>
</g>
<!-- ready&#45;&gt;pin -->
<g id="edge1" class="edge">
<title>ready&#45;&gt;pin</title>
<path fill="none" stroke="#000000" d="M46.6416,-519.0199C62.1749,-505.2482 85.3688,-484.6845 102.8072,-469.2237"/>
<polygon fill="#000000" stroke="#000000" points="105.2056,-471.7749 110.3662,-462.5218 100.5617,-466.537 105.2056,-471.7749"/>
<text text-anchor="middle" x="124.7802" y="-486.8" font-family="Times,serif" font-size="14.00" fill="#000000"> card&#45;inserted </text>
</g>
<!-- action&#45;selection -->
<g id="node3" class="node">
<title>action&#45;selection</title>
<ellipse fill="none" stroke="#000000" cx="289.7455" cy="-276" rx="66.1821" ry="18"/>
<text text-anchor="middle" x="289.7455" y="-271.8" font-family="Times,serif" font-size="14.00" fill="#000000">action&#45;selection</text>
</g>
<!-- pin&#45;&gt;action&#45;selection -->
<g id="edge2" class="edge">
<title>pin&#45;&gt;action&#45;selection</title>
<path fill="none" stroke="#000000" d="M148.5714,-437.4025C171.5058,-425.5609 207.7867,-404.7645 233.7455,-380 254.9796,-359.7429 258.2099,-352.0388 271.7455,-326 275.3732,-319.0215 278.5808,-311.146 281.2459,-303.7449"/>
<polygon fill="#000000" stroke="#000000" points="284.6282,-304.6697 284.5324,-294.0753 278.0005,-302.4171 284.6282,-304.6697"/>
<text text-anchor="middle" x="288.0214" y="-357.8" font-family="Times,serif" font-size="14.00" fill="#000000"> confirm </text>
</g>
<!-- pin&#45;error -->
<g id="node4" class="node">
<title>pin&#45;error</title>
<ellipse fill="none" stroke="#000000" cx="126.7455" cy="-362" rx="41.5679" ry="18"/>
<text text-anchor="middle" x="126.7455" y="-357.8" font-family="Times,serif" font-size="14.00" fill="#000000">pin&#45;error</text>
</g>
<!-- pin&#45;&gt;pin&#45;error -->
<g id="edge3" class="edge">
<title>pin&#45;&gt;pin&#45;error</title>
<path fill="none" stroke="#000000" d="M126.7455,-429.7616C126.7455,-418.3597 126.7455,-403.4342 126.7455,-390.494"/>
<polygon fill="#000000" stroke="#000000" points="130.2456,-390.2121 126.7455,-380.2121 123.2456,-390.2121 130.2456,-390.2121"/>
<text text-anchor="middle" x="145.787" y="-400.8" font-family="Times,serif" font-size="14.00" fill="#000000"> reject </text>
</g>
<!-- deposit&#45;transaction -->
<g id="node6" class="node">
<title>deposit&#45;transaction</title>
<ellipse fill="none" stroke="#000000" cx="307.7455" cy="-190" rx="77.2916" ry="18"/>
<text text-anchor="middle" x="307.7455" y="-185.8" font-family="Times,serif" font-size="14.00" fill="#000000">deposit&#45;transaction</text>
</g>
<!-- action&#45;selection&#45;&gt;deposit&#45;transaction -->
<g id="edge7" class="edge">
<title>action&#45;selection&#45;&gt;deposit&#45;transaction</title>
<path fill="none" stroke="#000000" d="M293.5629,-257.7616C295.9732,-246.2456 299.1358,-231.1353 301.8628,-218.1064"/>
<polygon fill="#000000" stroke="#000000" points="305.3108,-218.7171 303.9337,-208.2121 298.4592,-217.283 305.3108,-218.7171"/>
<text text-anchor="middle" x="324.4662" y="-228.8" font-family="Times,serif" font-size="14.00" fill="#000000"> deposit </text>
</g>
<!-- withdrawal&#45;transaction -->
<g id="node8" class="node">
<title>withdrawal&#45;transaction</title>
<ellipse fill="none" stroke="#000000" cx="494.7455" cy="-190" rx="91.7652" ry="18"/>
<text text-anchor="middle" x="494.7455" y="-185.8" font-family="Times,serif" font-size="14.00" fill="#000000">withdrawal&#45;transaction</text>
</g>
<!-- action&#45;selection&#45;&gt;withdrawal&#45;transaction -->
<g id="edge9" class="edge">
<title>action&#45;selection&#45;&gt;withdrawal&#45;transaction</title>
<path fill="none" stroke="#000000" d="M325.9235,-260.8229C359.3718,-246.7909 409.3329,-225.8317 446.2319,-210.3521"/>
<polygon fill="#000000" stroke="#000000" points="447.9225,-213.4384 455.79,-206.3423 445.2146,-206.9834 447.9225,-213.4384"/>
<text text-anchor="middle" x="434.6835" y="-228.8" font-family="Times,serif" font-size="14.00" fill="#000000"> withdraw </text>
</g>
<!-- confirm&#45;cancel -->
<g id="node9" class="node">
<title>confirm&#45;cancel</title>
<ellipse fill="none" stroke="#000000" cx="193.7455" cy="-104" rx="63.2837" ry="18"/>
<text text-anchor="middle" x="193.7455" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#000000">confirm&#45;cancel</text>
</g>
<!-- action&#45;selection&#45;&gt;confirm&#45;cancel -->
<g id="edge13" class="edge">
<title>action&#45;selection&#45;&gt;confirm&#45;cancel</title>
<path fill="none" stroke="#000000" d="M247.4822,-262.0075C222.7499,-251.3883 193.5958,-234.0892 179.0004,-208 165.8747,-184.538 172.7561,-153.6092 180.9546,-131.5939"/>
<polygon fill="#000000" stroke="#000000" points="184.2626,-132.7486 184.747,-122.1649 177.7682,-130.1365 184.2626,-132.7486"/>
<text text-anchor="middle" x="201.1181" y="-185.8" font-family="Times,serif" font-size="14.00" fill="#000000"> cancel </text>
</g>
<!-- pin&#45;error&#45;&gt;action&#45;selection -->
<g id="edge4" class="edge">
<title>pin&#45;error&#45;&gt;action&#45;selection</title>
<path fill="none" stroke="#000000" d="M153.1956,-347.9676C172.1247,-337.9325 198.2175,-324.1147 221.1938,-312 230.5653,-307.0587 240.6639,-301.7478 250.1535,-296.7633"/>
<polygon fill="#000000" stroke="#000000" points="251.795,-299.8546 259.0217,-292.107 248.5408,-293.6569 251.795,-299.8546"/>
<text text-anchor="middle" x="247.0214" y="-314.8" font-family="Times,serif" font-size="14.00" fill="#000000"> confirm </text>
</g>
<!-- pin&#45;error&#45;&gt;pin&#45;error -->
<g id="edge5" class="edge">
<title>pin&#45;error&#45;&gt;pin&#45;error</title>
<path fill="none" stroke="#000000" d="M164.2445,-369.8745C176.5116,-369.8338 186.2795,-367.209 186.2795,-362 186.2795,-358.3374 181.4504,-355.9524 174.3189,-354.845"/>
<polygon fill="#000000" stroke="#000000" points="174.4684,-351.3468 164.2445,-354.1255 173.9697,-358.3291 174.4684,-351.3468"/>
<text text-anchor="middle" x="205.321" y="-357.8" font-family="Times,serif" font-size="14.00" fill="#000000"> reject </text>
</g>
<!-- pin&#45;error&#45;&gt;confirm&#45;cancel -->
<g id="edge16" class="edge">
<title>pin&#45;error&#45;&gt;confirm&#45;cancel</title>
<path fill="none" stroke="#000000" d="M127.6241,-343.9213C130.0837,-305.0045 139.097,-211.0685 170.7455,-140 172.1768,-136.786 173.8674,-133.527 175.672,-130.35"/>
<polygon fill="#000000" stroke="#000000" points="178.7175,-132.0784 180.9395,-121.7192 172.7424,-128.4318 178.7175,-132.0784"/>
<text text-anchor="middle" x="165.1181" y="-228.8" font-family="Times,serif" font-size="14.00" fill="#000000"> cancel </text>
</g>
<!-- return&#45;card -->
<g id="node5" class="node">
<title>return&#45;card</title>
<ellipse fill="none" stroke="#000000" cx="193.7455" cy="-18" rx="49.2688" ry="18"/>
<text text-anchor="middle" x="193.7455" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">return&#45;card</text>
</g>
<!-- return&#45;card&#45;&gt;ready -->
<g id="edge6" class="edge">
<title>return&#45;card&#45;&gt;ready</title>
<path fill="none" stroke="#000000" d="M153.35,-28.6295C100.28,-43.8051 13.7455,-73.2627 13.7455,-104 13.7455,-448 13.7455,-448 13.7455,-448 13.7455,-467.7452 17.8725,-489.6167 21.9345,-506.3617"/>
<polygon fill="#000000" stroke="#000000" points="18.5467,-507.2413 24.4178,-516.0606 25.3279,-505.5049 18.5467,-507.2413"/>
<text text-anchor="middle" x="54.9423" y="-271.8" font-family="Times,serif" font-size="14.00" fill="#000000"> card&#45;returned </text>
</g>
<!-- continue -->
<g id="node7" class="node">
<title>continue</title>
<ellipse fill="none" stroke="#000000" cx="425.7455" cy="-104" rx="40.6162" ry="18"/>
<text text-anchor="middle" x="425.7455" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#000000">continue</text>
</g>
<!-- deposit&#45;transaction&#45;&gt;continue -->
<g id="edge8" class="edge">
<title>deposit&#45;transaction&#45;&gt;continue</title>
<path fill="none" stroke="#000000" d="M324.2782,-172.1411C334.1713,-162.0214 347.3178,-149.5214 360.3315,-140 369.2108,-133.5034 379.3928,-127.3575 389.0376,-122.0438"/>
<polygon fill="#000000" stroke="#000000" points="390.8915,-125.0215 398.06,-117.22 387.591,-118.8484 390.8915,-125.0215"/>
<text text-anchor="middle" x="412.4526" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#000000"> deposit&#45;complete </text>
</g>
<!-- deposit&#45;transaction&#45;&gt;confirm&#45;cancel -->
<g id="edge14" class="edge">
<title>deposit&#45;transaction&#45;&gt;confirm&#45;cancel</title>
<path fill="none" stroke="#000000" d="M262.8123,-175.2845C250.372,-169.8548 237.4338,-162.8172 227.0004,-154 219.3986,-147.5758 212.8418,-138.9894 207.6077,-130.747"/>
<polygon fill="#000000" stroke="#000000" points="210.568,-128.877 202.4605,-122.0566 204.5452,-132.4443 210.568,-128.877"/>
<text text-anchor="middle" x="249.1181" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#000000"> cancel </text>
</g>
<!-- continue&#45;&gt;action&#45;selection -->
<g id="edge11" class="edge">
<title>continue&#45;&gt;action&#45;selection</title>
<path fill="none" stroke="#000000" d="M465.9739,-106.7499C511.244,-110.7804 580.593,-120.0929 596.7455,-140 615.7899,-163.4711 614.5445,-184.3319 595.7455,-208 567.3437,-243.7582 444.6753,-261.8566 363.5401,-270.082"/>
<polygon fill="#000000" stroke="#000000" points="362.977,-266.6204 353.3682,-271.0838 363.6632,-273.5867 362.977,-266.6204"/>
<text text-anchor="middle" x="659.3388" y="-185.8" font-family="Times,serif" font-size="14.00" fill="#000000"> next&#45;transaction </text>
</g>
<!-- continue&#45;&gt;return&#45;card -->
<g id="edge12" class="edge">
<title>continue&#45;&gt;return&#45;card</title>
<path fill="none" stroke="#000000" d="M396.3797,-91.5649C371.3781,-81.1213 334.4225,-66.0213 301.7455,-54 282.0011,-46.7364 260.004,-39.2891 241.0411,-33.0667"/>
<polygon fill="#000000" stroke="#000000" points="242.0218,-29.7052 231.4294,-29.932 239.8513,-36.3602 242.0218,-29.7052"/>
<text text-anchor="middle" x="355.8075" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000"> finish </text>
</g>
<!-- withdrawal&#45;transaction&#45;&gt;continue -->
<g id="edge10" class="edge">
<title>withdrawal&#45;transaction&#45;&gt;continue</title>
<path fill="none" stroke="#000000" d="M486.9658,-171.8997C482.2112,-161.9396 475.5486,-149.676 467.7455,-140 463.8834,-135.2109 459.3241,-130.5643 454.6584,-126.2887"/>
<polygon fill="#000000" stroke="#000000" points="456.6586,-123.3905 446.8102,-119.484 452.0729,-128.6794 456.6586,-123.3905"/>
<text text-anchor="middle" x="534.6698" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#000000"> withdraw&#45;complete </text>
</g>
<!-- withdrawal&#45;transaction&#45;&gt;confirm&#45;cancel -->
<g id="edge15" class="edge">
<title>withdrawal&#45;transaction&#45;&gt;confirm&#45;cancel</title>
<path fill="none" stroke="#000000" d="M426.8257,-177.8743C370.8642,-167.8465 300.1756,-155.078 297.0004,-154 284.1054,-149.622 281.9573,-146.0267 269.7455,-140 258.8012,-134.5988 246.9007,-128.8864 235.8354,-123.642"/>
<polygon fill="#000000" stroke="#000000" points="237.3134,-120.4693 226.7764,-119.3638 234.3242,-126.799 237.3134,-120.4693"/>
<text text-anchor="middle" x="319.1181" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#000000"> cancel </text>
</g>
<!-- confirm&#45;cancel&#45;&gt;return&#45;card -->
<g id="edge17" class="edge">
<title>confirm&#45;cancel&#45;&gt;return&#45;card</title>
<path fill="none" stroke="#000000" d="M193.7455,-85.7616C193.7455,-74.3597 193.7455,-59.4342 193.7455,-46.494"/>
<polygon fill="#000000" stroke="#000000" points="197.2456,-46.2121 193.7455,-36.2121 190.2456,-46.2121 197.2456,-46.2121"/>
<text text-anchor="middle" x="245.832" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#000000"> cancel&#45;confirmed </text>
</g>
</g>
</svg>
